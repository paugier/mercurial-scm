-*- markdown -*-

hg-website
==========

This is a fork of the original hg-scm.org website.  It has two goals:

* Instead of using Django to serve the site, use Blatter to generate a static version which can then be served by a normal webserver like Apache or nginx.
* Move all the content into a subrepository so volunteers can just clone that repository if they just want to edit the content.

Repository
---------
The repository is split into three subrepositories. The `main` repository contains
scripts and templates to render the page. The `content` repository contains the
content of each page and defines the structure of the website. The `rendered`
repository contains the auto-generated pages.

If you want to help out with patches, you usually just edit hg-website and hg-website-content
and generate the rendered pages using blatter (or leave that tasks for the
maintainer). 

Setup
-----

To use this version of hg-website you need to install a few things:

Blatter's prerequisites:

    easy_install jinja2
    easy_install werkzeug

My patched version of blatter (adds the ability to ignore files and add custom Jinja2 filters):

    hg clone http://bitbucket.org/sjl/blatter/
    cd blatter
    python setup.py install

The python-markdown module (for rendering the website content):

    easy_install markdown

Usage
-----

To have blatter serve the page dynamically, use:

    blatter serve

You can then visit [http://localhost:8008](http://localhost:8008) to view the site.

To render a static version of the site into the `rendered/` directory:

    blatter blat

For more information on using blatter, check the README file at [http://bitbucket.org/sjl/blatter/src/](http://bitbucket.org/sjl/blatter/src/)
